function enableClickWithKeyboard(n){"use strict";n.addEventListener("keydown",function(e){13===e.keyCode&&n.click()})}function convertDegreeToRadian(e){"use strict";return e*Math.PI/180}function calculateClipPathOffset(e){"use strict";return e.offsetHeight/Math.tan(convertDegreeToRadian(72))}function applyBrandAngle(){"use strict";var e=[].slice.call(document.querySelectorAll("[data-brand-angle]"));e&&e.forEach(function(e){var n,t,a=calculateClipPathOffset(e),o=e.dataset.brandAngle;o?(n="0",t="100%",(o=(o=JSON.parse(o)).breakpoints.filter(function(e){return window.innerWidth>=parseInt(e.minWidth)}).sort(function(e,n){return n.minWidth-e.minWidth})[0]).clipLeft&&(n=a+"px"),o.clipRight&&(t="calc(100% - "+a+"px)"),e.style.clipPath="polygon("+n+" -1px, 100% -1px, "+t+" 100%, 0 100%)",e.style.webkitClipPath="polygon("+n+" -1px, 100% -1px, "+t+" 100%, 0 100%)"):(e.style.clipPath="polygon("+a+"px -1px, 100% -1px, 100% 100%, 0 100%)",e.style.webkitClipPath="polygon("+a+"px -1px, 100% -1px, 100% 100%, 0 100%)")})}var port={};!function(i){"use strict";var r=i(window);port={init:function(){i(document).foundation(),applyBrandAngle(),r.on("resize",Drupal.debounce(function(){applyBrandAngle()})),i(document).on("change.zf.tabs",function(){applyBrandAngle()}),port.animatedAnchorLinks(),port.headerNavToggle(),port.sidebar()},animatedAnchorLinks:function(){var o,e=[].slice.call(document.querySelectorAll('a[href*="#"]:not([href="#"])')).filter(e=>!e.classList.contains("collections__title"));e&&(o=document.body.classList.contains("user-logged-in")?0:document.querySelector("header .header__primary").offsetHeight,e.forEach(function(a){location.hostname===a.hostname&&location.pathname.replace(/^\//,"")===a.pathname.replace(/^\//,"")&&a.addEventListener("click",function(e){e.preventDefault();var n=a.hash.slice(1),t=i('[id="'+n+'"]');(t=0===t.length?i('[name="'+n+'"]'):t).length&&i("html, body").animate({scrollTop:t.offset().top-o},500,function(){history.pushState(null,null,"#"+n),t.trigger("focus")})})}))},headerNavToggle:function(){var e=i("body"),n=i(".header"),t=document.querySelector(".header__nav-toggle"),a=i('.header__primary .menu-level-0 > .menu-item > label[for^="parent-level-menu_link_content"]'),o=i('.header__primary .menu-level-0 > .menu-item > label[for^="parent-level-off-menu_link_content"]');enableClickWithKeyboard(t),a.each(function(){var e=i(this),n=i(this).find("a"),t=e.parents(".menu-item");""!==i.trim(i(".menu-dropdown",t).text())?(n.replaceWith("<span>"+n.text()+"</span>"),e.on("mouseenter",function(){1024<=window.innerWidth&&(i(".header__primary .menu-level-0 > .menu-item").removeClass("active"),t.addClass("active"),i(this).click())})):e.on("mouseenter",function(){1024<=window.innerWidth&&(i('input[name="parent-level-menu-item"]').prop("checked",!1),i(".header__primary .menu-level-0 > .menu-item").removeClass("active"))})}),o.on("click",function(){i(".header__primary .menu-level-0 > .menu-item").removeClass("active")}),n.on("mouseleave",function(){i('input[name="parent-level-menu-item"]').prop("checked",!1),i(".header__primary .menu-level-0 > .menu-item").removeClass("active")}),t.addEventListener("click",function(){e.toggleClass("menu-open")})},headroom:function(){var e=!1,n=!1,t=0,a=i(".header");function o(){t=r.scrollTop(),!n&&!e&&40<t?(e=!0,a.addClass("header-locked")):!n&&e&&t<=40&&(e=!1,a.removeClass("header-locked")),0!==t||a.hasClass("header-top")?a.hasClass("header-top")&&a.removeClass("header-top"):a.addClass("header-top"),0}o(),r.on("scroll",function(){o()}),a.on("mouseenter",function(){e=!(n=!0),a.removeClass("header-locked")}),a.on("mouseleave",function(){n=!1,o()}),i("body").addClass("headroom-processed")},sidebar:function(){var e=i("body");e.hasClass("user-logged-in")||i("#sidebar").stickySidebar({topSpacing:e.hasClass("headroom-processed")?100:0,minWidth:1023})}},i(function(){port.init()})}(jQuery);